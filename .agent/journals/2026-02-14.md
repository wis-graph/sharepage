# 📔 개발 저널 2026-02-14

## 🕒 09:30 작업 기록
- **[Bug] 유튜브 노트 오픈그래프 이미지 추출 오류 수정**:
    - 프런트매터의 플레이스홀더(`(입력된 URL 없음)`)가 유효한 주소로 인식되어 본문 유튜브 링크 추출 로직이 무시되던 문제 해결.
    - `source_type: YouTube` 필드 감지 시 본문에서 유튜브 ID를 강제 추출하는 Fallback 로직 추가.
    - 유튜브 썸네일 사용 시 `og:type`을 `video.other`로 자동 설정하여 SNS 미리보기 최적화.

- **[Refactor] sync.js 코드 품질 개선 및 가이드라인 준수**:
    - `.agent/rules.md`의 "예측 가능한 코드" 원칙에 따라 거대 함수(`generateStaticHtml`)를 작은 단위 함수(`extractDescription`, `extractOgImage`, `applyMetadataToTemplate` 등)로 분리.
    - 단일 책임 원칙(SRP)과 추상화 수준 맞추기(SLAP) 적용으로 코드 가독성 및 유지보수성 향상.

- **[Bug] 정적 HTML 자산 로드 404 오류 수정**:
    - 리팩토링 과정에서 잔존했던 상대 경로 수정 로직(`../` 추가)이 `<base>` 태그와 충돌하여 자산 경로가 깨지던 현상 해결.
    - 불필요한 경로 수정 로직을 제거하여 루트 자산 로드 안정화.

## 🕒 09:40 작업 기록
- **[Refactor] JS 디렉토리 구조 최적화 및 레거시 파일 제거**:
    - `js/` 루트에 존재하던 10여 개의 레거시 래퍼 파일(`toc.js`, `utils.js` 등) 및 `js/dashboard/` 디렉토리를 완전히 제거.
    - `router.js`를 `js/core/router.js`로 이동하여 계층화 아키텍처(Layered Architecture) 완성.
    - 모든 내부 import 경로를 새로운 디렉토리 구조(`core`, `services`, `views`)에 맞게 전수 업데이트.
    - `js/` 루트 디렉토리에 진입점인 `app.js`만 남겨두어 프로젝트 구조의 간결함 확보.

## 🕒 09:50 작업 기록
- **[Refactor] 코드 품질 개선 (Predictable Code & SLAP 적용)**:
    - **Service 계층 최적화**: `docService.js`의 거대 함수를 분리(SLAP)하고, `renderService.js`의 수학 공식 처리 로직에서 전역 상태를 제거하여 순수 함수화(Pure Function).
    - **계층 간 책임 분리**: `dashboardController.js`와 `themeController.js`에 혼재되어 있던 DOM 조작 로직을 각각의 View 계층(`dashboardView.js`, `themeView.js`)으로 이관.
    - **복잡도 감소**: `markdownService.js`의 프런트매터 파싱 로직을 의미 단위로 분리하여 가독성 확보.
    - **라우터 구조 개선**: `router.js`의 경로 정규화 및 리다이렉트 로직을 함수로 추출하여 메인 흐름 명확화.
## 🕒 14:15 작업 기록
- **[Refactor] 깃허브 레포지토리 구조 및 정체성 재정립**:
    - `main` 브랜치를 온전한 "웹사이트 템플릿"으로 전환 (기존 `gh-pages` 내용을 기반으로 동기화).
    - 기존 `main`에 혼재되어 있던 옵시디언 플러그인 소스코드는 `plugin-source-backup` 브랜치로 분리 보관하여 정체성 혼란 해결.
    - 사용자가 레포지토리를 포크(Fork)했을 때 즉시 웹사이트로 기능할 수 있는 구조 확보.

## 🕒 14:35 작업 기록
- **[Refactor] 프로젝트 아키텍처 및 빌드 프로세스 고도화 (Audit 반영)**:
    - **플레이스홀더 기반 템플릿 도입**: `src/index.html`을 마스터 템플릿으로 신설하고 `{{TITLE}}` 등 플레이스홀더를 사용하여 JS 로직과 HTML 구조를 분리(Decoupling).
    - **HTML 자동 동기화**: `sync.js` 실행 시 `index.html`을 기반으로 `404.html`을 자동 생성하도록 일원화하여 유지보수성 향상.
    - **자산 번들링 및 최적화**: 다수의 CSS 파일을 `bundle.css`로 통합하여 HTTP 요청 수 절감 및 로딩 속도 개선.
    - **자동 캐시 무효화(Cache Busting)**: `sync.js` 빌드 타임스탬프를 활용하여 모든 자산에 자동 버전(`?v=...`)을 주입하는 프로세스 구축.
- **[UI/UX] 대시보드 시각적 힌트 개선**:
    - 대시보드 카드 가로 스크롤 시 우측에 'Peek(엿보기)' 효과를 추가하여 스크롤 가능 여부를 직관적으로 인지하도록 개선.
- **[Cleanup] 불필요 파일 정리**: 프로젝트 루트의 `test.html`, `task.md` 등 배포 비대상 파일 제거.
